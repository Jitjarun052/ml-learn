<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutorial: Neural Network Fundamentals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Sarabun', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .math-formula { background: #f8fafc; border-left: 4px solid #3b82f6; }
        .step-box { border-left: 4px solid #10b981; }
        .neuron { width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(45deg, #3b82f6, #1d4ed8); }
        .connection { stroke: #6b7280; stroke-width: 2; }
        .weight-label { font-size: 12px; fill: #374151; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <div class="gradient-bg text-white py-16">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-4">Neural Network Tutorial</h1>
            <p class="text-xl md:text-2xl opacity-90">เรียนรู้ Perceptron, MLP และ Gradient Descent</p>
            <p class="text-lg opacity-80 mt-2">รากฐานสำคัญของ Deep Neural Network</p>
        </div>
    </div>

    <!-- Navigation -->
    <div class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-6">
            <div class="flex flex-wrap justify-center space-x-2 md:space-x-6 py-4">
                <button onclick="showSection('perceptron')" class="nav-btn bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors mb-2">Perceptron</button>
                <button onclick="showSection('mlp')" class="nav-btn bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors mb-2">MLP</button>
                <button onclick="showSection('gradient')" class="nav-btn bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors mb-2">Gradient Descent</button>
                <button onclick="showSection('demo')" class="nav-btn bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors mb-2">Interactive Demo</button>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-6 py-8">
        <!-- Perceptron Section -->
        <div id="perceptron" class="section">
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <span class="bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center mr-4">1</span>
                    Perceptron คืออะไร?
                </h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="text-lg text-gray-700 mb-4">
                            Perceptron เป็นหน่วยประมวลผลพื้นฐานที่สุดของ Neural Network ทำหน้าที่รับ input หลายตัว 
                            คำนวณผลรวมถ่วงน้ำหนัก และตัดสินใจ output
                        </p>
                        
                        <div class="math-formula p-4 rounded-lg mb-4">
                            <h4 class="font-semibold mb-2">สูตรการคำนวณ:</h4>
                            <p class="font-mono">y = f(Σ(wi × xi) + b)</p>
                            <p class="text-sm text-gray-600 mt-2">
                                โดย wi = น้ำหนัก, xi = input, b = bias, f = activation function
                            </p>
                        </div>
                    </div>
                    
                    <div class="flex justify-center">
                        <svg width="300" height="200" viewBox="0 0 300 200">
                            <!-- Input nodes -->
                            <circle cx="50" cy="60" r="20" fill="#3b82f6" opacity="0.8"/>
                            <text x="50" y="65" text-anchor="middle" fill="white" font-weight="bold">x₁</text>
                            <text x="50" y="45" text-anchor="middle" fill="#374151" font-size="12">Input 1</text>
                            
                            <circle cx="50" cy="120" r="20" fill="#3b82f6" opacity="0.8"/>
                            <text x="50" y="125" text-anchor="middle" fill="white" font-weight="bold">x₂</text>
                            <text x="50" y="140" text-anchor="middle" fill="#374151" font-size="12">Input 2</text>
                            
                            <!-- Perceptron -->
                            <circle cx="180" cy="90" r="30" fill="#10b981"/>
                            <text x="180" y="95" text-anchor="middle" fill="white" font-weight="bold">Σ</text>
                            
                            <!-- Output -->
                            <circle cx="260" cy="90" r="20" fill="#f59e0b"/>
                            <text x="260" y="95" text-anchor="middle" fill="white" font-weight="bold">y</text>
                            <text x="260" y="115" text-anchor="middle" fill="#374151" font-size="12">Output</text>
                            
                            <!-- Connections -->
                            <line x1="70" y1="60" x2="150" y2="80" stroke="#6b7280" stroke-width="2"/>
                            <line x1="70" y1="120" x2="150" y2="100" stroke="#6b7280" stroke-width="2"/>
                            <line x1="210" y1="90" x2="240" y2="90" stroke="#6b7280" stroke-width="2"/>
                            
                            <!-- Weight labels -->
                            <text x="110" y="65" fill="#374151" font-size="12">w₁</text>
                            <text x="110" y="110" fill="#374151" font-size="12">w₂</text>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Perceptron Calculation Example -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">ตัวอย่างการคำนวณ Perceptron</h3>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <div class="step-box p-4 rounded-lg mb-4">
                            <h4 class="font-semibold text-green-700 mb-2">ขั้นตอนที่ 1: กำหนดค่า Input และ Weight</h4>
                            <div class="space-y-2">
                                <p>Input: x₁ = <span id="x1-val">0.5</span>, x₂ = <span id="x2-val">0.8</span></p>
                                <p>Weight: w₁ = <span id="w1-val">0.3</span>, w₂ = <span id="w2-val">0.7</span></p>
                                <p>Bias: b = <span id="b-val">-0.2</span></p>
                            </div>
                        </div>
                        
                        <div class="step-box p-4 rounded-lg mb-4">
                            <h4 class="font-semibold text-green-700 mb-2">ขั้นตอนที่ 2: คำนวณผลรวมถ่วงน้ำหนัก</h4>
                            <p class="font-mono">z = (w₁ × x₁) + (w₂ × x₂) + b</p>
                            <p class="font-mono">z = (<span id="calc-w1">0.3</span> × <span id="calc-x1">0.5</span>) + (<span id="calc-w2">0.7</span> × <span id="calc-x2">0.8</span>) + <span id="calc-b">-0.2</span></p>
                            <p class="font-mono">z = <span id="result-z">0.41</span></p>
                        </div>
                        
                        <div class="step-box p-4 rounded-lg mb-4">
                            <h4 class="font-semibold text-green-700 mb-2">ขั้นตอนที่ 3: ใช้ Activation Function</h4>
                            <p>ใช้ Step Function: f(z) = 1 ถ้า z > 0, มิฉะนั้น 0</p>
                            <p class="font-mono">y = f(<span id="final-z">0.41</span>) = <span id="final-output">1</span></p>
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-gray-50 p-6 rounded-lg">
                            <h4 class="font-semibold mb-4">ปรับค่าเพื่อทดลอง:</h4>
                            
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium mb-1">x₁:</label>
                                    <input type="range" id="x1-slider" min="-1" max="1" step="0.1" value="0.5" 
                                           class="w-full" onchange="updatePerceptronCalc()">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium mb-1">x₂:</label>
                                    <input type="range" id="x2-slider" min="-1" max="1" step="0.1" value="0.8" 
                                           class="w-full" onchange="updatePerceptronCalc()">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium mb-1">w₁:</label>
                                    <input type="range" id="w1-slider" min="-1" max="1" step="0.1" value="0.3" 
                                           class="w-full" onchange="updatePerceptronCalc()">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium mb-1">w₂:</label>
                                    <input type="range" id="w2-slider" min="-1" max="1" step="0.1" value="0.7" 
                                           class="w-full" onchange="updatePerceptronCalc()">
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium mb-1">Bias:</label>
                                    <input type="range" id="b-slider" min="-1" max="1" step="0.1" value="-0.2" 
                                           class="w-full" onchange="updatePerceptronCalc()">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MLP Section -->
        <div id="mlp" class="section hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <span class="bg-green-500 text-white w-10 h-10 rounded-full flex items-center justify-center mr-4">2</span>
                    Multi-Layer Perceptron (MLP)
                </h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="text-lg text-gray-700 mb-4">
                            MLP คือการนำ Perceptron หลายตัวมาเชื่อมต่อกันเป็นชั้น ๆ (layers) 
                            ทำให้สามารถเรียนรู้ pattern ที่ซับซ้อนได้มากขึ้น
                        </p>
                        
                        <div class="space-y-4">
                            <div class="bg-blue-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-blue-800">Input Layer</h4>
                                <p class="text-sm text-blue-700">รับข้อมูล input</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-green-800">Hidden Layer(s)</h4>
                                <p class="text-sm text-green-700">ประมวลผลและแยกแยะ features</p>
                            </div>
                            
                            <div class="bg-orange-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-orange-800">Output Layer</h4>
                                <p class="text-sm text-orange-700">ให้ผลลัพธ์สุดท้าย</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex justify-center">
                        <svg width="350" height="300" viewBox="0 0 350 300">
                            <!-- Input Layer -->
                            <circle cx="50" cy="80" r="15" fill="#3b82f6"/>
                            <text x="50" y="85" text-anchor="middle" fill="white" font-size="10">x₁</text>
                            <circle cx="50" cy="140" r="15" fill="#3b82f6"/>
                            <text x="50" y="145" text-anchor="middle" fill="white" font-size="10">x₂</text>
                            <circle cx="50" cy="200" r="15" fill="#3b82f6"/>
                            <text x="50" y="205" text-anchor="middle" fill="white" font-size="10">x₃</text>
                            
                            <!-- Hidden Layer -->
                            <circle cx="150" cy="60" r="15" fill="#10b981"/>
                            <text x="150" y="65" text-anchor="middle" fill="white" font-size="10">h₁</text>
                            <circle cx="150" cy="120" r="15" fill="#10b981"/>
                            <text x="150" y="125" text-anchor="middle" fill="white" font-size="10">h₂</text>
                            <circle cx="150" cy="180" r="15" fill="#10b981"/>
                            <text x="150" y="185" text-anchor="middle" fill="white" font-size="10">h₃</text>
                            <circle cx="150" cy="240" r="15" fill="#10b981"/>
                            <text x="150" y="245" text-anchor="middle" fill="white" font-size="10">h₄</text>
                            
                            <!-- Output Layer -->
                            <circle cx="250" cy="100" r="15" fill="#f59e0b"/>
                            <text x="250" y="105" text-anchor="middle" fill="white" font-size="10">y₁</text>
                            <circle cx="250" cy="160" r="15" fill="#f59e0b"/>
                            <text x="250" y="165" text-anchor="middle" fill="white" font-size="10">y₂</text>
                            
                            <!-- Connections (simplified) -->
                            <g stroke="#6b7280" stroke-width="1" opacity="0.6">
                                <!-- Input to Hidden -->
                                <line x1="65" y1="80" x2="135" y2="60"/>
                                <line x1="65" y1="80" x2="135" y2="120"/>
                                <line x1="65" y1="80" x2="135" y2="180"/>
                                <line x1="65" y1="80" x2="135" y2="240"/>
                                
                                <line x1="65" y1="140" x2="135" y2="60"/>
                                <line x1="65" y1="140" x2="135" y2="120"/>
                                <line x1="65" y1="140" x2="135" y2="180"/>
                                <line x1="65" y1="140" x2="135" y2="240"/>
                                
                                <line x1="65" y1="200" x2="135" y2="60"/>
                                <line x1="65" y1="200" x2="135" y2="120"/>
                                <line x1="65" y1="200" x2="135" y2="180"/>
                                <line x1="65" y1="200" x2="135" y2="240"/>
                                
                                <!-- Hidden to Output -->
                                <line x1="165" y1="60" x2="235" y2="100"/>
                                <line x1="165" y1="60" x2="235" y2="160"/>
                                <line x1="165" y1="120" x2="235" y2="100"/>
                                <line x1="165" y1="120" x2="235" y2="160"/>
                                <line x1="165" y1="180" x2="235" y2="100"/>
                                <line x1="165" y1="180" x2="235" y2="160"/>
                                <line x1="165" y1="240" x2="235" y2="100"/>
                                <line x1="165" y1="240" x2="235" y2="160"/>
                            </g>
                            
                            <!-- Labels -->
                            <text x="50" y="30" text-anchor="middle" font-size="12" font-weight="bold">Input</text>
                            <text x="150" y="30" text-anchor="middle" font-size="12" font-weight="bold">Hidden</text>
                            <text x="250" y="30" text-anchor="middle" font-size="12" font-weight="bold">Output</text>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- MLP Calculation Example -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">ตัวอย่างการคำนวณ MLP</h3>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <div class="step-box p-4 rounded-lg mb-4">
                            <h4 class="font-semibold text-green-700 mb-2">Forward Propagation</h4>
                            <p class="text-sm mb-2">Input: x₁ = 0.5, x₂ = 0.8</p>
                            
                            <div class="bg-gray-50 p-3 rounded mb-2">
                                <p class="font-semibold text-sm">Hidden Layer:</p>
                                <p class="font-mono text-sm">h₁ = σ(0.2×0.5 + 0.4×0.8 + 0.1) = σ(0.52) = 0.627</p>
                                <p class="font-mono text-sm">h₂ = σ(0.3×0.5 + 0.6×0.8 + 0.2) = σ(0.83) = 0.696</p>
                            </div>
                            
                            <div class="bg-gray-50 p-3 rounded">
                                <p class="font-semibold text-sm">Output Layer:</p>
                                <p class="font-mono text-sm">y = σ(0.5×0.627 + 0.7×0.696 + 0.1) = σ(0.901) = 0.711</p>
                            </div>
                        </div>
                        
                        <div class="math-formula p-4 rounded-lg">
                            <h4 class="font-semibold mb-2">Sigmoid Activation Function:</h4>
                            <p class="font-mono">σ(x) = 1 / (1 + e^(-x))</p>
                            <p class="text-sm text-gray-600 mt-2">
                                ให้ค่าระหว่าง 0 ถึง 1 และมีความต่อเนื่อง
                            </p>
                        </div>
                    </div>
                    
                    <div>
                        <div class="bg-gray-50 p-6 rounded-lg">
                            <h4 class="font-semibold mb-4">Activation Functions:</h4>
                            <canvas id="activationChart" width="300" height="200"></canvas>
                            
                            <div class="mt-4 space-y-2">
                                <button onclick="showActivation('sigmoid')" class="bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600">Sigmoid</button>
                                <button onclick="showActivation('tanh')" class="bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600">Tanh</button>
                                <button onclick="showActivation('relu')" class="bg-purple-500 text-white px-3 py-1 rounded text-sm hover:bg-purple-600">ReLU</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gradient Descent Section -->
        <div id="gradient" class="section hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <span class="bg-purple-500 text-white w-10 h-10 rounded-full flex items-center justify-center mr-4">3</span>
                    Gradient Descent
                </h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="text-lg text-gray-700 mb-4">
                            Gradient Descent เป็นอัลกอริทึมสำหรับหาค่า weight ที่ดีที่สุด 
                            โดยการปรับค่าไปในทิศทางที่ทำให้ error ลดลง
                        </p>
                        
                        <div class="math-formula p-4 rounded-lg mb-4">
                            <h4 class="font-semibold mb-2">สูตรการอัปเดต Weight:</h4>
                            <p class="font-mono">w_new = w_old - α × ∂E/∂w</p>
                            <p class="text-sm text-gray-600 mt-2">
                                α = learning rate, ∂E/∂w = gradient ของ error
                            </p>
                        </div>
                        
                        <div class="space-y-3">
                            <div class="flex items-center">
                                <div class="w-4 h-4 bg-red-500 rounded mr-3"></div>
                                <span>Error สูง - ปรับ weight มาก</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-4 h-4 bg-yellow-500 rounded mr-3"></div>
                                <span>Error ปานกลาง - ปรับ weight ปานกลาง</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-4 h-4 bg-green-500 rounded mr-3"></div>
                                <span>Error ต่ำ - ปรับ weight น้อย</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <canvas id="gradientChart" width="300" height="250"></canvas>
                        <div class="text-center mt-4">
                            <button onclick="animateGradientDescent()" class="bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600">
                                เริ่ม Animation
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Backpropagation -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">Backpropagation Algorithm</h3>
                
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="step-box p-4 rounded-lg">
                        <h4 class="font-semibold text-green-700 mb-2">1. Forward Pass</h4>
                        <p class="text-sm">คำนวณ output จาก input ผ่านทุก layer</p>
                        <div class="mt-2 p-2 bg-gray-50 rounded text-xs font-mono">
                            Input → Hidden → Output
                        </div>
                    </div>
                    
                    <div class="step-box p-4 rounded-lg">
                        <h4 class="font-semibold text-green-700 mb-2">2. Calculate Error</h4>
                        <p class="text-sm">คำนวณความผิดพลาดระหว่าง output และ target</p>
                        <div class="mt-2 p-2 bg-gray-50 rounded text-xs font-mono">
                            Error = (target - output)²
                        </div>
                    </div>
                    
                    <div class="step-box p-4 rounded-lg">
                        <h4 class="font-semibold text-green-700 mb-2">3. Backward Pass</h4>
                        <p class="text-sm">ส่ง error กลับไปปรับ weight ทุกชั้น</p>
                        <div class="mt-2 p-2 bg-gray-50 rounded text-xs font-mono">
                            Output ← Hidden ← Input
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interactive Demo Section -->
        <div id="demo" class="section hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center">
                    <span class="bg-orange-500 text-white w-10 h-10 rounded-full flex items-center justify-center mr-4">4</span>
                    Interactive Neural Network Demo
                </h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4">XOR Problem Solver</h3>
                        <p class="text-gray-700 mb-4">
                            ทดลองฝึก Neural Network ให้แก้ปัญหา XOR ซึ่งเป็นปัญหาที่ Perceptron เดี่ยวแก้ไม่ได้
                        </p>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block font-medium mb-2">Learning Rate:</label>
                                <input type="range" id="learningRate" min="0.1" max="1" step="0.1" value="0.5" class="w-full">
                                <span id="lrValue" class="text-sm text-gray-600">0.5</span>
                            </div>
                            
                            <div>
                                <label class="block font-medium mb-2">Hidden Neurons:</label>
                                <input type="range" id="hiddenNeurons" min="2" max="8" step="1" value="4" class="w-full">
                                <span id="hnValue" class="text-sm text-gray-600">4</span>
                            </div>
                            
                            <div class="flex space-x-4">
                                <button onclick="trainNetwork()" class="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600">
                                    เริ่มฝึก
                                </button>
                                <button onclick="resetNetwork()" class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600">
                                    รีเซ็ต
                                </button>
                            </div>
                        </div>
                        
                        <div class="mt-6">
                            <h4 class="font-semibold mb-2">XOR Truth Table:</h4>
                            <table class="w-full border-collapse border border-gray-300">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th class="border border-gray-300 p-2">Input A</th>
                                        <th class="border border-gray-300 p-2">Input B</th>
                                        <th class="border border-gray-300 p-2">XOR Output</th>
                                        <th class="border border-gray-300 p-2">Network Output</th>
                                    </tr>
                                </thead>
                                <tbody id="xorTable">
                                    <tr>
                                        <td class="border border-gray-300 p-2 text-center">0</td>
                                        <td class="border border-gray-300 p-2 text-center">0</td>
                                        <td class="border border-gray-300 p-2 text-center">0</td>
                                        <td class="border border-gray-300 p-2 text-center" id="out00">-</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-2 text-center">0</td>
                                        <td class="border border-gray-300 p-2 text-center">1</td>
                                        <td class="border border-gray-300 p-2 text-center">1</td>
                                        <td class="border border-gray-300 p-2 text-center" id="out01">-</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-2 text-center">1</td>
                                        <td class="border border-gray-300 p-2 text-center">0</td>
                                        <td class="border border-gray-300 p-2 text-center">1</td>
                                        <td class="border border-gray-300 p-2 text-center" id="out10">-</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-2 text-center">1</td>
                                        <td class="border border-gray-300 p-2 text-center">1</td>
                                        <td class="border border-gray-300 p-2 text-center">0</td>
                                        <td class="border border-gray-300 p-2 text-center" id="out11">-</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div>
                        <canvas id="trainingChart" width="400" height="300"></canvas>
                        <div class="mt-4">
                            <p class="text-sm text-gray-600">
                                <span class="font-semibold">Epoch:</span> <span id="epochCount">0</span> | 
                                <span class="font-semibold">Error:</span> <span id="currentError">-</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-16">
        <div class="container mx-auto px-6 text-center">
            <p class="text-lg mb-2">Neural Network Tutorial</p>
            <p class="text-gray-400">เรียนรู้พื้นฐาน Deep Learning อย่างเข้าใจง่าย</p>
        </div>
    </footer>

    <script>
        // Global variables
        let activationChart, gradientChart, trainingChart;
        let network = null;
        let trainingData = [];
        let isTraining = false;

        // Navigation
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            document.getElementById(sectionId).classList.remove('hidden');
            
            // Update nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600', 'bg-green-600', 'bg-purple-600', 'bg-orange-600');
            });
        }

        // Perceptron calculation
        function updatePerceptronCalc() {
            const x1 = parseFloat(document.getElementById('x1-slider').value);
            const x2 = parseFloat(document.getElementById('x2-slider').value);
            const w1 = parseFloat(document.getElementById('w1-slider').value);
            const w2 = parseFloat(document.getElementById('w2-slider').value);
            const b = parseFloat(document.getElementById('b-slider').value);
            
            const z = (w1 * x1) + (w2 * x2) + b;
            const output = z > 0 ? 1 : 0;
            
            // Update display values
            document.getElementById('x1-val').textContent = x1;
            document.getElementById('x2-val').textContent = x2;
            document.getElementById('w1-val').textContent = w1;
            document.getElementById('w2-val').textContent = w2;
            document.getElementById('b-val').textContent = b;
            
            document.getElementById('calc-x1').textContent = x1;
            document.getElementById('calc-x2').textContent = x2;
            document.getElementById('calc-w1').textContent = w1;
            document.getElementById('calc-w2').textContent = w2;
            document.getElementById('calc-b').textContent = b;
            
            document.getElementById('result-z').textContent = z.toFixed(2);
            document.getElementById('final-z').textContent = z.toFixed(2);
            document.getElementById('final-output').textContent = output;
        }

        // Activation functions
        function sigmoid(x) {
            return 1 / (1 + Math.exp(-x));
        }

        function tanh(x) {
            return Math.tanh(x);
        }

        function relu(x) {
            return Math.max(0, x);
        }

        function showActivation(type) {
            const ctx = document.getElementById('activationChart').getContext('2d');
            
            if (activationChart) {
                activationChart.destroy();
            }
            
            const x = [];
            const y = [];
            
            for (let i = -5; i <= 5; i += 0.1) {
                x.push(i);
                switch(type) {
                    case 'sigmoid':
                        y.push(sigmoid(i));
                        break;
                    case 'tanh':
                        y.push(tanh(i));
                        break;
                    case 'relu':
                        y.push(relu(i));
                        break;
                }
            }
            
            activationChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: x.map(val => val.toFixed(1)),
                    datasets: [{
                        label: type.toUpperCase(),
                        data: y,
                        borderColor: type === 'sigmoid' ? '#3b82f6' : type === 'tanh' ? '#10b981' : '#8b5cf6',
                        backgroundColor: 'transparent',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: false,
                    scales: {
                        x: {
                            display: false
                        }
                    },
                    plugins: {
                        legend: {
                            display: true
                        }
                    }
                }
            });
        }

        // Gradient descent animation
        function animateGradientDescent() {
            const ctx = document.getElementById('gradientChart').getContext('2d');
            
            if (gradientChart) {
                gradientChart.destroy();
            }
            
            // Create error surface
            const x = [];
            const y = [];
            for (let i = -3; i <= 3; i += 0.1) {
                x.push(i);
                y.push(i * i); // Simple quadratic function
            }
            
            let currentX = 2.5;
            let learningRate = 0.1;
            let path = [{x: currentX, y: currentX * currentX}];
            
            gradientChart = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Error Function',
                        data: x.map((val, idx) => ({x: val, y: y[idx]})),
                        borderColor: '#6b7280',
                        backgroundColor: 'transparent',
                        pointRadius: 0
                    }, {
                        label: 'Gradient Descent Path',
                        data: path,
                        borderColor: '#ef4444',
                        backgroundColor: '#ef4444',
                        pointRadius: 5,
                        showLine: true
                    }]
                },
                options: {
                    responsive: false,
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            title: {
                                display: true,
                                text: 'Weight'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Error'
                            }
                        }
                    }
                }
            });
            
            // Animate gradient descent
            let step = 0;
            const animate = () => {
                if (step < 20 && Math.abs(currentX) > 0.1) {
                    const gradient = 2 * currentX; // Derivative of x^2
                    currentX = currentX - learningRate * gradient;
                    path.push({x: currentX, y: currentX * currentX});
                    
                    gradientChart.data.datasets[1].data = [...path];
                    gradientChart.update();
                    
                    step++;
                    setTimeout(animate, 200);
                }
            };
            
            setTimeout(animate, 500);
        }

        // Simple Neural Network for XOR
        class SimpleNetwork {
            constructor(hiddenSize) {
                this.hiddenSize = hiddenSize;
                this.reset();
            }
            
            reset() {
                // Initialize weights randomly
                this.w1 = Array(this.hiddenSize).fill().map(() => Array(2).fill().map(() => Math.random() * 2 - 1));
                this.b1 = Array(this.hiddenSize).fill().map(() => Math.random() * 2 - 1);
                this.w2 = Array(this.hiddenSize).fill().map(() => Math.random() * 2 - 1);
                this.b2 = Math.random() * 2 - 1;
            }
            
            forward(inputs) {
                // Hidden layer
                this.hidden = this.w1.map((weights, i) => {
                    const sum = weights[0] * inputs[0] + weights[1] * inputs[1] + this.b1[i];
                    return sigmoid(sum);
                });
                
                // Output layer
                const sum = this.hidden.reduce((acc, h, i) => acc + h * this.w2[i], 0) + this.b2;
                this.output = sigmoid(sum);
                
                return this.output;
            }
            
            train(inputs, target, learningRate) {
                const output = this.forward(inputs);
                const error = target - output;
                
                // Backpropagation
                const outputDelta = error * output * (1 - output);
                
                // Update output weights
                for (let i = 0; i < this.hiddenSize; i++) {
                    this.w2[i] += learningRate * outputDelta * this.hidden[i];
                }
                this.b2 += learningRate * outputDelta;
                
                // Update hidden weights
                for (let i = 0; i < this.hiddenSize; i++) {
                    const hiddenError = outputDelta * this.w2[i];
                    const hiddenDelta = hiddenError * this.hidden[i] * (1 - this.hidden[i]);
                    
                    this.w1[i][0] += learningRate * hiddenDelta * inputs[0];
                    this.w1[i][1] += learningRate * hiddenDelta * inputs[1];
                    this.b1[i] += learningRate * hiddenDelta;
                }
                
                return error * error;
            }
        }

        function trainNetwork() {
            if (isTraining) return;
            
            const learningRate = parseFloat(document.getElementById('learningRate').value);
            const hiddenNeurons = parseInt(document.getElementById('hiddenNeurons').value);
            
            network = new SimpleNetwork(hiddenNeurons);
            
            const xorData = [
                {input: [0, 0], target: 0},
                {input: [0, 1], target: 1},
                {input: [1, 0], target: 1},
                {input: [1, 1], target: 0}
            ];
            
            trainingData = [];
            isTraining = true;
            
            const ctx = document.getElementById('trainingChart').getContext('2d');
            
            if (trainingChart) {
                trainingChart.destroy();
            }
            
            trainingChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Training Error',
                        data: [],
                        borderColor: '#ef4444',
                        backgroundColor: 'transparent',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Epoch'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Error'
                            }
                        }
                    }
                }
            });
            
            let epoch = 0;
            const maxEpochs = 1000;
            
            const trainStep = () => {
                if (epoch < maxEpochs && isTraining) {
                    let totalError = 0;
                    
                    for (const data of xorData) {
                        const error = network.train(data.input, data.target, learningRate);
                        totalError += error;
                    }
                    
                    totalError /= xorData.length;
                    
                    if (epoch % 10 === 0) {
                        trainingChart.data.labels.push(epoch);
                        trainingChart.data.datasets[0].data.push(totalError);
                        trainingChart.update();
                        
                        document.getElementById('epochCount').textContent = epoch;
                        document.getElementById('currentError').textContent = totalError.toFixed(4);
                        
                        // Update XOR table
                        updateXORTable();
                    }
                    
                    epoch++;
                    
                    if (totalError < 0.01 || epoch >= maxEpochs) {
                        isTraining = false;
                        updateXORTable();
                    } else {
                        setTimeout(trainStep, 1);
                    }
                }
            };
            
            trainStep();
        }

        function updateXORTable() {
            if (!network) return;
            
            const testCases = [
                {input: [0, 0], id: 'out00'},
                {input: [0, 1], id: 'out01'},
                {input: [1, 0], id: 'out10'},
                {input: [1, 1], id: 'out11'}
            ];
            
            testCases.forEach(test => {
                const output = network.forward(test.input);
                const element = document.getElementById(test.id);
                element.textContent = output.toFixed(3);
                
                // Color coding based on correctness
                const expected = test.input[0] ^ test.input[1]; // XOR
                const diff = Math.abs(output - expected);
                
                if (diff < 0.1) {
                    element.className = 'border border-gray-300 p-2 text-center bg-green-100';
                } else if (diff < 0.3) {
                    element.className = 'border border-gray-300 p-2 text-center bg-yellow-100';
                } else {
                    element.className = 'border border-gray-300 p-2 text-center bg-red-100';
                }
            });
        }

        function resetNetwork() {
            isTraining = false;
            network = null;
            
            document.getElementById('epochCount').textContent = '0';
            document.getElementById('currentError').textContent = '-';
            
            // Reset XOR table
            ['out00', 'out01', 'out10', 'out11'].forEach(id => {
                const element = document.getElementById(id);
                element.textContent = '-';
                element.className = 'border border-gray-300 p-2 text-center';
            });
            
            if (trainingChart) {
                trainingChart.destroy();
            }
        }

        // Update slider values
        document.getElementById('learningRate').addEventListener('input', function() {
            document.getElementById('lrValue').textContent = this.value;
        });

        document.getElementById('hiddenNeurons').addEventListener('input', function() {
            document.getElementById('hnValue').textContent = this.value;
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showSection('perceptron');
            updatePerceptronCalc();
            showActivation('sigmoid');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97268b8d44277b4c',t:'MTc1NTc0MTcxMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
